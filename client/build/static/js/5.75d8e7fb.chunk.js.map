{"version":3,"sources":["components/layout/FiltersTab.js","components/products-list/ProductsListItem.js","components/products-list/ProductsList.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","state/products/actions.js"],"names":["connect","getProducts","useState","from","to","category","section","sex","search","filters","setFilters","onChange","e","target","name","value","onSubmit","preventDefault","query","Object","entries","filter","item","fromEntries","map","join","className","type","placeholder","onClick","ProductListItem","history","product","classes","push","replace","id","style","backgroundImage","photo_id","discountPrice","price","state","loading","products","count","pagination","error","url","useEffect","content","pageBtns","BasicLoading","prev","page","current","next","length","ProductsListItem","key","_id","src","alt","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","done","err","TypeError","dispatch","a","axios","get","data","payload","console","log","response","message","getSingle","getCart","addToCart","post","cart","setAxiosToken","removeItem","itemid","put","reduceItem","addItem","clearCart"],"mappings":"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","file":"static/js/5.75d8e7fb.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getProducts } from '../../state/products/actions';\r\n\r\nconst FiltersTab = ({ getProducts }) => {\r\n\tconst [filters, setFilters] = useState({\r\n\t\tfrom: '',\r\n\t\tto: '',\r\n\t\tcategory: '',\r\n\t\tsection: '',\r\n\t\tsex: '',\r\n\t\tsearch: ''\r\n\t});\r\n\r\n\tconst onChange = e => {\r\n\t\tsetFilters({\r\n\t\t\t...filters,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst clearFilters = e => {\r\n\t\te.preventDefault();\r\n\t\tsetFilters({\r\n\t\t\tfrom: '',\r\n\t\t\tto: '',\r\n\t\t\tcategory: '',\r\n\t\t\tsection: '',\r\n\t\t\tsex: '',\r\n\t\t\tsearch: ''\r\n\t\t});\r\n\t\tgetProducts();\r\n\t};\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet query = Object.entries(filters).filter(item => item[1] !== '');\r\n\t\tquery = Object.fromEntries(query);\r\n\r\n\t\tquery = Object.entries(filters)\r\n\t\t\t.filter(item => item[1] !== '')\r\n\t\t\t.map(item => {\r\n\t\t\t\tif (item[0] === 'from' || item[0] === 'to') {\r\n\t\t\t\t\treturn `${item[0]}=${item[1] * 100}`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn item.join('=');\r\n\t\t\t})\r\n\t\t\t.join('&');\r\n\r\n\t\tgetProducts(1, '/api/v1/products?limit=6&' + query);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='filters-opts'>\r\n\t\t\t<form onSubmit={onSubmit}>\r\n\t\t\t\t<div className='filter-opt'>\r\n\t\t\t\t\t<p>Name</p>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Search'\r\n\t\t\t\t\t\tname='search'\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tvalue={filters.search}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='filter-opt'>\r\n\t\t\t\t\t<p>Price</p>\r\n\t\t\t\t\t<div className='filter-input-group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tplaceholder='From'\r\n\t\t\t\t\t\t\tname='from'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tvalue={filters.from}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tplaceholder='To'\r\n\t\t\t\t\t\t\tname='to'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tvalue={filters.to}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='filter-opt'>\r\n\t\t\t\t\t<p>Category</p>\r\n\t\t\t\t\t<select name='category' value={filters.category} onChange={onChange}>\r\n\t\t\t\t\t\t<option value=''>Select</option>\r\n\t\t\t\t\t\t<option value='Shorts'>Shorts</option>\r\n\t\t\t\t\t\t<option value='Shirts, Tops, Blouses and T-Shirts'>\r\n\t\t\t\t\t\t\tShirts, Tops, Blouses and T-Shirts\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value='Pants and Trousers'>Pants and Trousers</option>\r\n\t\t\t\t\t\t<option value='Jackets and Coats'>Jackets and Coats</option>\r\n\t\t\t\t\t\t<option value='Skirts and Dresses'>Skirts and Dresses</option>\r\n\t\t\t\t\t\t<option value='Underwear'>Underwear</option>\r\n\t\t\t\t\t\t<option value='Shoes'>Shoes</option>\r\n\t\t\t\t\t\t<option value='Others'>Others</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='filter-opt'>\r\n\t\t\t\t\t<p>Section</p>\r\n\t\t\t\t\t<select name='section' value={filters.section} onChange={onChange}>\r\n\t\t\t\t\t\t<option value=''>Select</option>\r\n\t\t\t\t\t\t<option value='Formal'>Formal</option>\r\n\t\t\t\t\t\t<option value='Casual'>Casual</option>\r\n\t\t\t\t\t\t<option value='Sport'>Sport</option>\r\n\t\t\t\t\t\t<option value='Everything'>Everything</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='filter-opt'>\r\n\t\t\t\t\t<p>Sex</p>\r\n\t\t\t\t\t<select name='sex' value={filters.sex} onChange={onChange}>\r\n\t\t\t\t\t\t<option value=''>Select</option>\r\n\t\t\t\t\t\t<option value='Male'>Male</option>\r\n\t\t\t\t\t\t<option value='Female'>Female</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<div className='filter-opt'>\r\n\t\t\t\t<div className='filter-input-group'>\r\n\t\t\t\t\t<button className='search-btn' onClick={onSubmit}>\r\n\t\t\t\t\t\tSearch\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className='clear-btn' onClick={clearFilters}>\r\n\t\t\t\t\t\tClear\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default connect(null, { getProducts })(FiltersTab);\r\n","import React from 'react';\r\n\r\nconst ProductListItem = ({ history, product, classes }) => {\r\n\tconst goToPage = e => {\r\n\t\thistory.push(\r\n\t\t\t`/product/${product.name.replace(/ /g, '+').replace(/\\//g, '&frasl;')}/${\r\n\t\t\t\tproduct.id\r\n\t\t\t}`\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`product-list-item ${classes ? classes : ''}`}\r\n\t\t\tonClick={goToPage}>\r\n\t\t\t<div\r\n\t\t\t\tclassName='product-image'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundImage: `url(${'https://res.cloudinary.com/dnchnxwkl/image/upload/h_400/' +\r\n\t\t\t\t\t\tproduct.photo_id})`\r\n\t\t\t\t}}></div>\r\n\t\t\t<div className='product-text'>\r\n\t\t\t\t<h4 className='product-title'>{product.name}</h4>\r\n\t\t\t\t{product.discountPrice ? (\r\n\t\t\t\t\t<p className='product-price'>\r\n\t\t\t\t\t\t<span> {product.price / 100}$ </span>\r\n\t\t\t\t\t\t{product.discountPrice / 100}$\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p className='product-price'> {product.price / 100}$ </p>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductListItem;\r\n","import React, { useEffect, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getProducts } from '../../state/products/actions';\r\n\r\nimport FiltersTab from '../layout/FiltersTab';\r\nimport ProductsListItem from './ProductsListItem';\r\nimport BasicLoading from '../loading/BasicLoading';\r\n\r\nconst ProductsList = ({\r\n\tgetProducts,\r\n\tloading,\r\n\tproducts,\r\n\tcount,\r\n\tpagination,\r\n\terror,\r\n\turl,\r\n\thistory\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tif (products === null) {\r\n\t\t\tgetProducts();\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst nextPage = () => {\r\n\t\tif (pagination.next) {\r\n\t\t\tgetProducts(pagination.next.page, url);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prevPage = () => {\r\n\t\tif (pagination.prev) {\r\n\t\t\tgetProducts(pagination.prev.page, url);\r\n\t\t}\r\n\t};\r\n\r\n\tlet content = null;\r\n\tlet pageBtns = null;\r\n\r\n\tif (!loading && products !== null) {\r\n\t\tpageBtns = (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<p className=' pagination'>\r\n\t\t\t\t\t{pagination.prev && (\r\n\t\t\t\t\t\t<button onClick={prevPage} className='pagination-btn'>\r\n\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<strong>{pagination.current.page}</strong>\r\n\t\t\t\t\t{pagination.next && (\r\n\t\t\t\t\t\t<button onClick={nextPage} className='pagination-btn'>\r\n\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</p>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\r\n\t\tcontent =\r\n\t\t\tproducts.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<div className='products-grid'>\r\n\t\t\t\t\t\t{products.map(product => (\r\n\t\t\t\t\t\t\t<ProductsListItem\r\n\t\t\t\t\t\t\t\tproduct={product}\r\n\t\t\t\t\t\t\t\tkey={product._id}\r\n\t\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{pageBtns}\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<p className='error'>No products found</p>\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t} else {\r\n\t\tcontent = <BasicLoading />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<main className='store'>\r\n\t\t\t\t<section className='products'>\r\n\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t<div className='store-grid'>\r\n\t\t\t\t\t\t\t<div className='filters-form'>\r\n\t\t\t\t\t\t\t\t<h2>Filters</h2>\r\n\t\t\t\t\t\t\t\t<FiltersTab />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='products-area'>\r\n\t\t\t\t\t\t\t\t<span className='top-of-products'>\r\n\t\t\t\t\t\t\t\t\t{pageBtns}\r\n\t\t\t\t\t\t\t\t\t{!loading && products !== null ? (\r\n\t\t\t\t\t\t\t\t\t\t<button id='open-filters'>\r\n\t\t\t\t\t\t\t\t\t\t\t<img src='icons/arrow-left.svg' alt='' /> Filters\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{content}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</main>\r\n\t\t\t<aside id='filters'>\r\n\t\t\t\t<div className='filters-head'>\r\n\t\t\t\t\t<h3 className='brand'>Filters</h3>\r\n\t\t\t\t\t<button id='close-filters'>\r\n\t\t\t\t\t\t<img src='icons/x.svg' alt='' />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<FiltersTab />\r\n\t\t\t</aside>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tloading: state.products.loading,\r\n\tproducts: state.products.products,\r\n\tcount: state.products.count,\r\n\tpagination: state.products.pagination,\r\n\terror: state.products.error,\r\n\turl: state.products.url\r\n});\r\nexport default connect(mapStateToProps, { getProducts })(ProductsList);\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import axios from 'axios';\r\nimport setAxiosToken from '../../utils/setAxiosToken';\r\n\r\nexport const getProducts = (\r\n\tpage = 1,\r\n\turl = '/api/v1/products?limit=6&'\r\n) => async dispatch => {\r\n\tdispatch({ type: 'PRODUCTS_LOADING' });\r\n\r\n\tlet query = url + `&page=${page}&select=name,price,discountPrice,id,photo_id`;\r\n\r\n\ttry {\r\n\t\tconst { data } = await axios.get(query);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_PRODUCTS',\r\n\t\t\tpayload: {\r\n\t\t\t\tproducts: data.data,\r\n\t\t\t\tpagination: data.pagination,\r\n\t\t\t\tcount: data.count,\r\n\t\t\t\turl\r\n\t\t\t}\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tconsole.log(err.response ? err.response.data.error : err.message);\r\n\t\tdispatch({\r\n\t\t\ttype: 'PRODUCTS_ERROR',\r\n\t\t\tpayload: err.response ? err.response.data.error : err.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getSingle = id => async dispatch => {\r\n\tdispatch({ type: 'PRODUCTS_LOADING' });\r\n\ttry {\r\n\t\tconst { data } = await axios.get(`/api/v1/products/${id}`);\r\n\r\n\t\tdispatch({ type: 'CURRENT_PRODUCT', payload: data.data });\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t\tdispatch({\r\n\t\t\ttype: 'PRODUCTS_ERROR',\r\n\t\t\tpayload: err.response ? err.response.data.error : err.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getCart = () => async dispatch => {\r\n\ttry {\r\n\t\tconst { data } = await axios.get('/api/v1/cart');\r\n\t\tdispatch({ type: 'GET_CART', payload: data.data });\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t\tdispatch({\r\n\t\t\ttype: 'PRODUCTS_ERROR',\r\n\t\t\tpayload: err.response ? err.response.data.error : err.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const addToCart = item => async dispatch => {\r\n\ttry {\r\n\t\tconst { data } = await axios.post('/api/v1/cart', item);\r\n\t\tdispatch({ type: 'SET_CART_TOKEN', payload: data.cart });\r\n\t\tsetAxiosToken();\r\n\t\treturn false;\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t\tdispatch({\r\n\t\t\ttype: 'PRODUCTS_ERROR',\r\n\t\t\tpayload: err.response ? err.response.data.error : err.message\r\n\t\t});\r\n\t\treturn err.response ? err.response.data.error : err.message;\r\n\t}\r\n};\r\n\r\nexport const removeItem = itemid => async dispatch => {\r\n\ttry {\r\n\t\tconst { data } = await axios.put(`/api/v1/cart/remove/${itemid}`);\r\n\t\tdispatch({ type: 'SET_CART_TOKEN', payload: data.cart });\r\n\t\tsetAxiosToken();\r\n\t\tdispatch(getCart());\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t\tdispatch({\r\n\t\t\ttype: 'PRODUCTS_ERROR',\r\n\t\t\tpayload: err.response ? err.response.data.error : err.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const reduceItem = itemid => async dispatch => {\r\n\ttry {\r\n\t\tconst { data } = await axios.put(`/api/v1/cart/reduce/${itemid}`);\r\n\t\tdispatch({ type: 'SET_CART_TOKEN', payload: data.cart });\r\n\t\tsetAxiosToken();\r\n\t\tdispatch(getCart());\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t\tdispatch({\r\n\t\t\ttype: 'PRODUCTS_ERROR',\r\n\t\t\tpayload: err.response ? err.response.data.error : err.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const addItem = itemid => async dispatch => {\r\n\ttry {\r\n\t\tconst { data } = await axios.put(`/api/v1/cart/add/${itemid}`);\r\n\t\tdispatch({ type: 'SET_CART_TOKEN', payload: data.cart });\r\n\t\tsetAxiosToken();\r\n\t\tdispatch(getCart());\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t\tdispatch({\r\n\t\t\ttype: 'PRODUCTS_ERROR',\r\n\t\t\tpayload: err.response ? err.response.data.error : err.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const clearCart = () => ({\r\n\ttype: 'CLEAR_CART'\r\n});\r\n"],"sourceRoot":""}